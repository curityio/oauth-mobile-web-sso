<config xmlns="http://tail-f.com/ns/config/1.0">
  <environments xmlns="https://curity.se/ns/conf/base">
    <environment>
      <base-url>#{IDSVR_BASE_URL}</base-url>
      <admin-service>
        <http>
          <ssl-server-keystore>default-admin-ssl-key</ssl-server-keystore>
          <base-url>#{IDSVR_BASE_URL}</base-url>
          <web-ui>
          </web-ui>
          <restconf>
          </restconf>
        </http>
      </admin-service>
      <services>
        <zones>
          <default-zone>
            <symmetric-key>data:text/plain;aes,v:S.S3ZWN1ZJSzlYR3Zid2NkNg==.t4pl0JFx6un9LrGsAK8BBQ==.k_WTLJ_TpZ6eMIgT6mvlzZdKcK8QFZomOfl5InZeGYDWDcOOcuPraSQxfCfXFrnq7YG3OyJDDA775QWcg4pH0pXerF97xK_WUUaCl6LroEc=.G4O0Na6fZEOAIe3fkxENDwgNfM2Bm81uU6caFbGoJXY=</symmetric-key>
          </default-zone>
        </zones>
        <service-role>
          <id>default</id>
          <protocol>http</protocol>
          <endpoints>authentication-service-anonymous</endpoints>
          <endpoints>authentication-service-authentication</endpoints>
          <endpoints>authentication-service-registration</endpoints>
          <endpoints>token-service-anonymous</endpoints>
          <endpoints>token-service-assisted-token</endpoints>
          <endpoints>token-service-authorize</endpoints>
          <endpoints>token-service-introspect</endpoints>
          <endpoints>token-service-revoke</endpoints>
          <endpoints>token-service-session</endpoints>
          <endpoints>token-service-token</endpoints>
          <endpoints>token-service-userinfo</endpoints>
        </service-role>
      </services>
    </environment>
  </environments>
  <profiles xmlns="https://curity.se/ns/conf/base">
    <profile>
      <id>authentication-service</id>
      <type xmlns:auth="https://curity.se/ns/conf/profile/authentication">auth:authentication-service</type>
      <settings>
        <authentication-service xmlns="https://curity.se/ns/conf/profile/authentication">
          <authenticators>
            <authenticator>
              <id>htmlform1</id>
              <html-form xmlns="https://curity.se/ns/conf/authenticators/html-form">
                <account-manager>default-account-manager</account-manager>
                <credential-manager>default-credential-manager</credential-manager>
              </html-form>
            </authenticator>
            <authenticator>
              <id>nonce1</id>
              <nonce xmlns="https://curity.se/ns/ext-conf/nonce">
                <Audience>#{IDSVR_BASE_URL}/authn/anonymous/nonce1</Audience>
                <Issuer>#{IDSVR_BASE_URL}/oauth/v2/oauth-anonymous</Issuer>
                <JWKS-Endpoint>#{INTERNAL_IDSVR_BASE_URL}/oauth/v2/oauth-anonymous/jwks</JWKS-Endpoint>
              </nonce>
            </authenticator>
          </authenticators>
          <protocols>
            <protocol>
              <id>default-simple-protocol</id>
              <simple-api/>
            </protocol>
          </protocols>
          <authenticator-filters>
            <authenticator-filter>
              <id>nonce-filter</id>
              <script-filter xmlns="https://curity.se/ns/conf/authenticator-filters/script">
                <authenticator-filter-procedure>nonce-filter-proc</authenticator-filter-procedure>
              </script-filter>
            </authenticator-filter>
          </authenticator-filters>
        </authentication-service>
      </settings>
      <endpoints>
        <endpoint>
          <id>authentication-service-anonymous</id>
          <uri>/authn/anonymous</uri>
          <endpoint-kind>auth-anonymous</endpoint-kind>
        </endpoint>
        <endpoint>
          <id>authentication-service-authentication</id>
          <uri>/authn/authentication</uri>
          <endpoint-kind>auth-authentication</endpoint-kind>
        </endpoint>
        <endpoint>
          <id>authentication-service-registration</id>
          <uri>/authn/registration</uri>
          <endpoint-kind>auth-registration</endpoint-kind>
        </endpoint>
      </endpoints>
      <token-issuers>
        <default-token-issuer>
          <jwt-issuer-settings>
            <signing-key-id>default-signing-key</signing-key-id>
          </jwt-issuer-settings>
          <default-data-source>default-datasource</default-data-source>
        </default-token-issuer>
      </token-issuers>
    </profile>
    <profile>
      <id>token-service</id>
      <type xmlns:as="https://curity.se/ns/conf/profile/oauth">as:oauth-service</type>
      <settings>
        <authorization-server xmlns="https://curity.se/ns/conf/profile/oauth">
          <authentication-service>
            <authentication-profile>authentication-service</authentication-profile>
          </authentication-service>
          <client-capabilities>
            <code>
            </code>
            <implicit/>
            <resource-owner-password-credentials>
              <credential-manager>default-credential-manager</credential-manager>
            </resource-owner-password-credentials>
            <client-credentials/>
            <introspection/>
            <token-exchange/>
            <assisted-token>
            </assisted-token>
          </client-capabilities>
          <scopes>
            <scope>
              <id>address</id>
              <description>OpenId Connect address scope</description>
              <claims>address</claims>
            </scope>
            <scope>
              <id>email</id>
              <description>OpenId Connect email scope</description>
              <claims>email</claims>
              <claims>email_verified</claims>
            </scope>
            <scope>
              <id>openid</id>
              <description>Standard OpenID Connect scope</description>
            </scope>
            <scope>
              <id>phone</id>
              <description>OpenId Connect phone scope</description>
              <claims>phone_number</claims>
              <claims>phone_number_verified</claims>
            </scope>
            <scope>
              <id>profile</id>
              <description>OpenId Connect profile scope</description>
              <claims>birthdate</claims>
              <claims>family_name</claims>
              <claims>gender</claims>
              <claims>given_name</claims>
              <claims>locale</claims>
              <claims>middle_name</claims>
              <claims>name</claims>
              <claims>nickname</claims>
              <claims>picture</claims>
              <claims>preferred_username</claims>
              <claims>profile</claims>
              <claims>updated_at</claims>
              <claims>website</claims>
              <claims>zoneinfo</claims>
            </scope>
          </scopes>
          <claims>
            <claim>
              <name>address</name>
              <description>OpenID Connect address claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>birthdate</name>
              <description>OpenID Connect birthdate claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>email</name>
              <description>OpenID Connect email claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>email_verified</name>
              <description>OpenID Connect email_verified claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>family_name</name>
              <description>OpenID Connect family_name claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>gender</name>
              <description>OpenID Connect gender claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>given_name</name>
              <description>OpenID Connect given_name claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>locale</name>
              <description>OpenID Connect locale claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>middle_name</name>
              <description>OpenID Connect middle_name claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>name</name>
              <description>OpenID Connect name claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>nickname</name>
              <description>OpenID Connect nickname claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>phone_number</name>
              <description>OpenID Connect phone_number claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>phone_number_verified</name>
              <description>OpenID Connect phone_number_verified claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>picture</name>
              <description>OpenID Connect picture claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>preferred_username</name>
              <description>OpenID Connect preferred_username claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>profile</name>
              <description>OpenID Connect profile claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>updated_at</name>
              <description>OpenID Connect updated_at claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>website</name>
              <description>OpenID Connect website claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claim>
              <name>zoneinfo</name>
              <description>OpenID Connect zoneinfo claim</description>
              <value-provided-by>account-manager-claims-provider</value-provided-by>
            </claim>
            <claims-value-provider>
              <id>account-manager-claims-provider</id>
              <account-manager-claims-provider xmlns="https://curity.se/ns/ext-conf/account-manager-claims-provider">
                <account-manager>
                  <id>default-account-manager</id>
                </account-manager>
              </account-manager-claims-provider>
            </claims-value-provider>
            <claims-mappers>
              <claims-mapper>
                <id>default</id>
                <userinfo>
                  <claim>address</claim>
                  <claim>birthdate</claim>
                  <claim>email</claim>
                  <claim>email_verified</claim>
                  <claim>family_name</claim>
                  <claim>gender</claim>
                  <claim>given_name</claim>
                  <claim>locale</claim>
                  <claim>middle_name</claim>
                  <claim>name</claim>
                  <claim>nickname</claim>
                  <claim>phone_number</claim>
                  <claim>phone_number_verified</claim>
                  <claim>picture</claim>
                  <claim>preferred_username</claim>
                  <claim>profile</claim>
                  <claim>updated_at</claim>
                  <claim>website</claim>
                  <claim>zoneinfo</claim>
                </userinfo>
              </claims-mapper>
              <default-claims-mapper>default</default-claims-mapper>
            </claims-mappers>
          </claims>
          <openid-connect>
            <expose-metadata>
            </expose-metadata>
          </openid-connect>
          <client-store>
            <config-backed>
              <client>
                <id>mobile-client</id>
                <no-authentication>true</no-authentication>
                <redirect-uris>io.curity.client:/callback</redirect-uris>
                <proof-key>
                  <require-proof-key>true</require-proof-key>
                </proof-key>
                <audience>#{IDSVR_BASE_URL}/authn/anonymous/nonce1</audience>
                <audience>mobile-client</audience>
                <refresh-token-ttl>3600</refresh-token-ttl>
                <scope>openid</scope>
                <claims-mapper>default</claims-mapper>
                <user-authentication>
                  <allowed-authenticators>htmlform1</allowed-authenticators>
                  <allowed-post-logout-redirect-uris>io.curity.client:/logoutcallback</allowed-post-logout-redirect-uris>
                </user-authentication>
                <capabilities>
                  <code>
                  </code>
                </capabilities>
                <validate-port-on-loopback-interfaces>true</validate-port-on-loopback-interfaces>
              </client>
              <client>
                <id>web-client</id>
                <secret>$5$GTfh1slmqOx40RMP$g.Gw47uN5UypqdUjIAydJclYMY.Jkiu12ApFvclSTG8</secret>
                <redirect-uris>#{WEB_BASE_URL}/spa</redirect-uris>
                <proof-key>
                  <require-proof-key>true</require-proof-key>
                </proof-key>
                <audience>web-client</audience>
                <scope>openid</scope>
                <claims-mapper>default</claims-mapper>
                <user-authentication>
                  <authenticator-filters>nonce-filter</authenticator-filters>
                  <allowed-post-logout-redirect-uris>#{WEB_BASE_URL}/spa</allowed-post-logout-redirect-uris>
                </user-authentication>
                <allowed-origins>#{WEB_BASE_URL}</allowed-origins>
                <capabilities>
                  <code>
                  </code>
                </capabilities>
                <validate-port-on-loopback-interfaces>true</validate-port-on-loopback-interfaces>
              </client>
            </config-backed>
          </client-store>
        </authorization-server>
      </settings>
      <endpoints>
        <endpoint>
          <id>token-service-anonymous</id>
          <uri>/oauth/v2/oauth-anonymous</uri>
          <endpoint-kind>oauth-anonymous</endpoint-kind>
        </endpoint>
        <endpoint>
          <id>token-service-assisted-token</id>
          <uri>/oauth/v2/oauth-assisted-token</uri>
          <endpoint-kind>oauth-assisted-token</endpoint-kind>
        </endpoint>
        <endpoint>
          <id>token-service-authorize</id>
          <uri>/oauth/v2/oauth-authorize</uri>
          <endpoint-kind>oauth-authorize</endpoint-kind>
        </endpoint>
        <endpoint>
          <id>token-service-introspect</id>
          <uri>/oauth/v2/oauth-introspect</uri>
          <endpoint-kind>oauth-introspect</endpoint-kind>
        </endpoint>
        <endpoint>
          <id>token-service-revoke</id>
          <uri>/oauth/v2/oauth-revoke</uri>
          <endpoint-kind>oauth-revoke</endpoint-kind>
        </endpoint>
        <endpoint>
          <id>token-service-session</id>
          <uri>/oauth/v2/oauth-session</uri>
          <endpoint-kind>oauth-session</endpoint-kind>
        </endpoint>
        <endpoint>
          <id>token-service-token</id>
          <uri>/oauth/v2/oauth-token</uri>
          <endpoint-kind>oauth-token</endpoint-kind>
        </endpoint>
        <endpoint>
          <id>token-service-userinfo</id>
          <uri>/oauth/v2/oauth-userinfo</uri>
          <endpoint-kind>oauth-userinfo</endpoint-kind>
        </endpoint>
      </endpoints>
      <token-issuers>
        <default-token-issuer>
          <jwt-issuer-settings>
            <signing-key-id>default-signing-key</signing-key-id>
          </jwt-issuer-settings>
          <default-data-source>default-datasource</default-data-source>
        </default-token-issuer>
      </token-issuers>
    </profile>
  </profiles>
  <facilities xmlns="https://curity.se/ns/conf/base">
    <data-sources>
      <data-source>
        <id>default-datasource</id>
        <jdbc xmlns="https://curity.se/ns/ext-conf/jdbc">
          <connection-string>data:text/plain;aes,v:S.SVVSQUJtdlpqbm1zQmRRcw==.Kist7VSZdn9gaRjqm790lw==.goo4CorM13vA2VAO3P5Bf1l9T2dqNXtwd285f-8d3WhyIoNLjcjVnr2gAROZ8XHT.B9mNOxH9n25Ecb6BGySrJbtb9FoQj7mssJtquNLD5HM=</connection-string>
          <driver>org.postgresql.Driver</driver>
          <password>data:text/plain;aes,v:S.RmtPWTdveDNhQzc2TVRhZg==.SJfwSGPOOd6a-AQD_C7JOw==.PVrbmnYy_f1tZx7FBNpPhw==.V83wwLPjI-My7eyt6BaO02pU7r9wO8rSpPCtR374128=</password>
          <username>postgres</username>
        </jdbc>
      </data-source>
    </data-sources>
    <crypto>
      <ssl>
        <server-keystore>
          <id>default-admin-ssl-key</id>
          <keystore>data:application/p12;aes,v:S.N1NFdWllYU5waHllQlZqUQ==.0s7Xq-gUN2GvgaP_yljvnQ==.wYlXUh8AHBe1v4z6reoVJzrok31gEpLLtm5FIQZkaSRsKjj3M0sVnibIhAjeSOleh6biAGatXracN49uto6SNhTcmFbFKB2S7rhjB5Cis50k10fv40OCnguAjKO19hNFRgcFDg9L-HZQQqacLTI3tyBLgDaz45BXarZEWavmtuW7p2QAKwVZBGcl68zMC_eGDQZI6M9GfE4tulWkFkrNqjhOsGlnj9w4kuRQboKnuTFA3X9S2VQAjHFEfY613W1HTyLi35Oh1FsvBysWNQxxlaWFGlkh13-NhypnUJYMFb2CnizzAlwlRzhtGSEzvoYtej6j-wmv0WyH2ziI15BQFb-HgjH8qbGSk29qiAgh374Sw54pg1LR-QLWT3StdNn4TpqA9tI4bci0l5cl0jnmRfAExK44C2FCDbZKti2-_UWMtoJXiwYd9pYo4rFQErkE1Sl4rpvpRRh8fRoVJpD47qELuD-dM7NhIPiYNQVp068e6LWxAlFE_4A1txq04O8rK4cdhOFLt9x7PAi50HX2dxzdwfwgfYC6RajlEmGtymHZRLXp54gcafisUCKaL3MdK-pSMvxKv_w_GizKmDa26513UTPPCOnE7un0jDpbImY2_D4dF_yC739BjQsCRPCiNfgyaEE4KtyYlX4Vcm7woSej29bkUT3cNqa0Ytr2yg-TNTQ0Yh8BpewRoML4mcPbTWHajiO2ycnKNrL-D2AlLLguj78QseD4_WhqT-v_p72suU-Taggitir3eZWTEgpjJgav6M7wPs_MZebH3oCRYzQHHmJBGBZcSlBrOcB6E0_u-Jeo-q6SN7P9axZUL2NrDGltPwbOUzYSopsTPlhwqTJa5JMKblxzkTcf7-GXkhTf2ibBxoSrfLmn61F-JvGNdkfzd0sWYYr18U-lhDLIU7fPgxRoo2-ydKBcZ3UuMpEqlOnExk22guso7dRUdv-F2Ztj2J--55cayPgnKWfJHrgOPogGM3K_7i3bZ8hJ35WXksGFNPZMQpOp8pjWKL8w9LCDrvBdNl2I_dzU71QnMlamn5dNylsf4LfSvhkpQiTWhmgb5rQ5k4R1HDnwk2qTBI_-6HgS05ZJz4iNJDXleJjX3I4uOODD1e5995zBN_Xb73K7Slw-TaOQWGpYsagZQaoTMjoZU5PUx4HSPIFamFbGmFdJowigq_qn9s7rfQXL3tGC8dwbu52BEhrc772gDmO0HV6eJSrVEMQdq3PW2RpRPidnl8NswGTwUE0CyFacJ8oY6z_FHBeviXuAoNaaicqFNNFGOpg0e5wMecHp45uKL0JFUfn0TfMQGqeF_dSyil6zq3-QTalzRB-NgEWigfy4LVs-0LYGJxqOtvYw0Q8jRWPTg9A9xmMeV3j23S3sH3uKZF534llUuqL1gV6EFGuYkMnOnfaNuUBG1Mlwflpjj9xsEoG8VbPl0F_86q1I-WfMawFuo7ur_7Z8S0jFRAKcaEI29rutICU_pRk8ihGEnglXXHnjA1T78f3ODODwgEVvY76SerV7_CyPii-P5x2Ph2vZN2EpZgZtoGywE7jpI0TW4ywpTpTWmZEtbcNnrTiwgtZ2ZqPE7xOOmDoFqQYAKHo8rB9AMP-kQEwlkNYwIcfjrthQcVj7irjih94s0VVYLy07dz9RUxqZXZhN-EbQxW1qkbdMlTFwAFXS3X33a-h4KSF6qy1H2Z8dDUrVkefq5JfWLtMdZUn02RnVebVRsdYhDHhNaz-YVn80SsKJlA9wf8gpimXvvRVIMvb3K7YaxNl2ms-PxNNSQU42i8LF-W_tHXqUl4HTBi51H-FEb-BNE1U4o8FQH-r0V2hwcO9XQCcMP5cvZsg2OLATX_zygZ-zxSG7-Z406FRLjB0iDB0BaiWBsWT_V_f57_1XZVWw9N1QgR0H-xRAWpcVNpDyTVfS7bjYWI9T-cZ4VJg1ovNBdBx5zstqNcWeEhD6KeCTBDGcrHuRKvQ3-Ufu-ohfTN_nvZNn13kGFdY3hofbCFOhU0W5rG9F0kUUwze3tmOf1LUZheRQBlTEm6iQBzMyGCTW8agQve4Irz9oen1dxecR8YRqeRmR7_v45QOEC4Zh9PBaMMcao9UNkrpMOMgm0FB3zSPXL_yve9IV-q_CzXXR0Q4pM9ilgK86olutXRDKMqx_KgF_D1cLAYQWHWDV6LKqyxNVhgrMr5AljDnnj-DkriWGvxnO_C1RMVzrGUnp92p4OWF_0_-2LD8ekphiwAKd7lqYNgDXbcJEXR4GIX8IvUx4DNrabPyqlDL0q_vtCu95yY7V1wejkoVphHB-wnkISnffTH7ZEMSgSZUm9eA5I8Aa57hS-7CstN0DIuHE-l-lkzM2frXfy8XFz1AYrvv5A9MnSWrDWIOsj6HusWOP9FpOKA5r3fQ3Ym6cjpYYu3DeaHDBKKXZqviKXF1VWVrw63WudRCCuA_lDfD0Mrr-ON8ppEAtpMkcn1LXM8UAPXBvUiD9Xzfhyk25jsJqPVsWlc5GGoWlzjrdnuNzsKyhxM8gzrw9xQHFAwPftI3O8B7xa18DvPdXcfLsbDS8FpRW0_gzFq_UNX4UVi2veEc8y47Q2zZA7_u7uHf53p2wv5qpH3MW59BX1w-nvZPBngmnouSSv90KO3iJp-vxY7ONXACE0XJIkq6fCVzMXaAgbdg2xpgcO5zJRxE1x8X9heubYLbgICB9CuR0bAaqdRaaydVXXHYvBAvqW30Cjq3ddB9Hx-1jKEku2Z--qpm_qA28H3FI81bGJ8IbK2GApOf18JG4n-eVh_gjVBkBMT2xS9A3o2-BYRSIVWUUa5LafWlRFD8sVoc8HiSBQrgBdG-nXyJiLP4xqeR6jmEcdSRA1Mo4gkI6iyfuMP0i7nWFaXbLR_fEek-I4nt19FAZ2kdmewbB_FyarGNO3lwb_JNLuKsO_Ym4gtqdKN58Ly_SFHijaJYXIxFegl41iyiDpihLmN6uUCUwThPB9ABISvnsMAkyQQSnieuJgLIxDJBOq_yywq3twIbqhRgZm4vLsG-crWhWdIczzKSDFAVSfdsGoQv3FY3u06G54Q7i_K92lfV1qruA0a7i8RYbiKasZJxx9MnHqQYQ_R5pMXuex6CR-W7SSZQ8saUEgDWK9vyX5lKGEqPFOI9nwn7SnUVD0GDGk7uyKR0Aowj9d57W43OAL25WLkg0RA6DxREjPe3drucDUrDvc_jWnz_1sBlZbAVeQctAy6CtAjkrXvcFj808AoYoT9cbl1CHYOAW9TLP4L0SNBSSTpQRYr-czp2KrZEKc2drpCfQorsZAeQys_r7AHZPE0C-oIULkNN4V35v1MWViIxJ5LD13nMlakyRy_u9pTIccbGPMDypYT03VVip7NOektTxXD66sMFG29nIEsfxD66dRtBbYtAcdM__Ls7N_7CkbkyGBpRCZXKUnnVBemu4FhntxGDaMEGBjdgGZGr3cZUecGPlTgOp38NCXh3gOK7WK5_g-BZRaD_9xdM_gNXMSM9PSbu1Bzjx1RbqTlfzUsurfoODcIsmJ4GmsRNyLTGX9rVjq8CLnWUo0D5RvY3Ez1pq1Y026Le5aHcJB3MRw08zKx7e-Me8LqdfU44wtmsYxnF19i-QRD2uEjWTfR_3JIMGGAsp2zWL.5vgkxVUbLBdn3hoYRd4A6pXXT9SOfmSnVwYzvxkTPlM=</keystore>
        </server-keystore>
      </ssl>
      <signing-keys>
        <signing-key>
          <id>default-signing-key</id>
          <keystore>data:application/p12;aes,v:S.ZmJFb0lzVnJobjFxdEhiMQ==.o-eVCMIJmPdy2-3g4iNbbQ==.zUC7lerTeDYzMvQfLaoZeGzIOpKUAvoPqJpJIk76TovfwsOT0kF2nEvgbCmYCdbKEY2r10rJsH9CGfukUt1emkf0EWDtXO8rPAphRpusMGdsUrsclmKBJu2tUhxqr4ZfkqOKD0Hfeq2QSmWm9SS-4jpCMhYHEFJRLm0PyGcuxiEGxjnWDEJgYoauIYLAd5_FPAk7RV-0ZwqCTJe8htekesCSFjxQs4Lmw13KnwDJGbKtHAOGNuOI6mHysTX0MuVqkljudImZ-WFvmE3FN_DeJnbAwvIdnMrlKWuKcfDsNfMDBv6eoP6gsQKH4ToXrtdOrfaABUoXfwhiUkQb4kerGoFT7M6g-WyA4dOir41Leal3Wm5YYzm-5p_plWyhFPPKSUPqH-UVvAfagW9kO2NOBgO3dpLDSDYMuAHlxvpu6Cz-VxDktAkhFug76vb3bBGAX2PGdYa4Cs_aGhRyeydu59_7WqDVMjtBIc088ockAjpOhxEaKcPl0GOvoWZpcZt3nzgpXqrnw_nv7Qf2-EsZbVvwXFQDwKNKQu2SdSsUjjvcrvsKnhwnWzeqpE4UWDIT3Fb65aMWtrJlGZcIQNk7UxYyz-DGeS-jpY_9GcPi8R__WpJzEQiXg2LRoyuCa3TjH4AwxOpHi2KiAKRNH3zzSj4BI7D1yMD-nhKGHwTIsaGoyLOH2aLSYlc4ROBeCo_wpAJmSowHgLniLDm2ju_sD5NwOE9SxD0p6knSgH0kNOetK5vWPiFOiWB7mzYkoDwcWWhdvFZkAuq-z734-j_Z1A9rBYHQVBdx8cIQlBbJtGrYFQ3NN0xYpkkeGbvMqTQca0sWpa6LAiDeYlHfuCyQAy7GozQYbdrkYAALN4ywgLvUtfIIuaaSKsXdSglnAKpUHVni-ulOze5U7bq7d2z1brEvr-MZWFIZJQUTNnI-Qj0gL4rjzZg7TYhBlknyIQ3zZmLlRUTXSJB2wKAO8tzP_xnolC4ocRAJjpNvz0xOCS6s0lx63j2QsBvgaTv0h2nDI-D5LbpYifXsRVrd8cK4XJfEb4K4MEyLC-WbRyh-IW61jzr_fRlHlSsDGYyPg_RkLqbu1mXfrLLSmS7XCknOC4XdPJYxlWGFrNWV6cQamPs7ar-lO4EYUE6EWMLioyD0MV4hQs8UrG1FntpMv7D6AS-H8MKEDqU1TXcFS63ZU9AM9Clw17DbNNZx9dqL0cz_7hTwhsOUG4sCNWJmYYW10m_dOLHRz6ahFJafjD0n5vyhJ4ljl9-ew_cpgkfzYoTEzC0HW_gNRKj4MwtWbKg7VYoUoCrRZsBmnXeTKlP9B8uLmOyS-QRePGIpJJAuVZ7d_4GuWVepqf4djh9tRRvMQvAydi_izCAP5cAdswldLw5yO6Y4QR-SpRBieoxsYQWMf7NF1eFQrSSDB67z2DN_EA8SThj6wtTI5oX9lblmreQ_tqtpCITz_CJ3AzWecYhpWtuqyvnBOMtzeWTXQPL-sKD8378pCe71K7d40FpEd68US9D_7yTBEQBVEalFiwE6gHqyiHWkolFMX_A0bgjY_tLYjCUz7Bklo_AZYJJ9hl0fXML3zTBgYznOCSVaiAzgL5ZL8KnIkWyzPqE5itD6c6vFcG57QcZkDQmY1aa3mmPUdlfoyCtudKrtQtko1J4-LEL7CgpVXwi4FrsS8SjmsOZUXFwHglU7YZ7IOlHpE7ghVMtEIW8M7G0fz-dnjvMhLIM-P0b_4nf6Lw56wMCWyNw2TyxqGVRRRHRapLq98MASGxm7MIfmXi0GM3V0o5z3zuohvw1lKYVJW2dtu7SHwlFLGn4oeqr45UHIMB3R-pjcSvuORUPmxoFkWXVcNFCGzXPeyOVYMmfDOcdRgAA4V2zY-DTPf_84ITkKq-4xLW-qsG65XP7qaKCvL2eiMxSTrXOy7BHacm06H8oX_eQxRWpg8DO086SbMUBzwDzI8QqkprMw-IJvZx5wzna37naokM3__a2T3hc9gtz1XB1UqjUcn99j-Bc6SisdP6PjNOS1MF7qKY0O_KYrvJ21838DRQvE56JfqMqxbxG7XvWMNBnrP4AJHajtkFRyJKJnLKbF_4DNQku1BAQnBjLBDgbse2fcSuNhqf7xN-VJDj2atWONEd6bcZ53DjhH07YYNIdF3fRz6-4OY1kdkJKGuoDcJU1Aq_s_uX6g56UVr50rtitSYzNALO6237_baPbwbBWz1nx80MvH72ThwqZlIECP886RTX_LX2xKXLU6a_RX4ivETwkCC3BzIL98xAHlTVnes82N7xGOX4fBWSzMU5eyjEe348uYi5pqlUAM1lL31yVCyw5FBV7YtoOeX3iaMslUXkZ59CgRvwTu8NYQ-BgIOvY9VR3YH1LChf8WCPQd1tq8X09U16yxEBAeK0O7VNGII2n-YVc4q3Wliu8VQgXi3vTdV1cYdzZv0d9bTcAiTXPDlinPocxtFP6qpdgTUc2oprXPfuNpfuRAG6cYRGEW1JVAATKROOn-I9ayzW2ddVB5LJ2_HtvFjD8HjRF2XcG4EwNPysx5WZ7CJnJkvEpWYYxzLIfbTD2clV7IwZU3_kJq6birxwlhFvTQsaRURJyg-p2eeCwckqy3pywYUdEdOAZh9w7aU76vzIyTdATRHxdV8h0fBbED7mUHVBdsDLO6vP0Uof4gdpuorICjw8eJsUKhsJop9MS5Hsp4Hf5P6jnjO_3u1Vlo0sdB_1dzGnchW_-t3o8_H17DP-7y_3Ok9kAfPP5HZZTM3Z9V3KY5cvxOOrhKXbEF5amsTLAbBmi9DKyxeU220IMQsLSdRrGg6LtpDQV4cmVamLGUpvREy9f0NBperoWZahcSX5kcu9DhiKrmOLcy2m0VoWMAtJmuPLh6z8XbCVCLHe0MhpRhRLa-D1n9-M6_wd5Tt1aLm5yYB5Rv0A3bP4AYyuzR_OdeWdoJnN8VBNj6e2gor28vMtzl0nYfit9dp0CIKsToIUmAVN0Zufy0xwRtDG8gRPjPxXXdN8PLxA2tYrzkzV5H6qOGiLi27Kk5YCXIkyl9p5nEDVgLW-uJCgogzdG7_-4InIWAnYy2Lh9QrS22DCHElJ_dBbpPXSMYBFWd33k1ahGd2pRv5uA7rjTGkSS6sFo26ABJ1e4Ydd_IdtO6SmTSCy071xV51B0YoO6MNE0n3-3uD9NqtBliip6N4AJ8NGxgr-Z91v06NFxEwlmFF0lw9-wEkunmIs93ghsFylRioqKLY4cE4GN6aEdgs_UIOvE3rWS6jASlEO0WEqjYy-E1E0S25Em3ObeDl2IE0OEh3PfcwEJap3vjFKYa8OiWitFeYR7Q0yy6si3llMCIJsi3mAR-Nx2zk865-p9DU9QtYDGBFyE4AKzPCxxqZNJfdr94M_Zr8ScerrfR7Wwm3tP_wVdN0wso6G5cEiLkKKsi5cTGNrm7ck8d_e6NlGD0ZaVsEgA95LBhLRe80jGGXUMYP4F1wwjmJS-68y_ZusrBTHjff1efYLkUuYW7IR0WX65yaZLXAdqd0271WvBJOov9dx77vanmKLmqW4oGv8FRhOCgjLyVrxIBghbRY60_-vo1vXQFLZIyLrcK3CgWX4TKxelvd0epnIUOmQLuSPsoWb8L3raa34eDbctEMjBl64ux.DBNqjSm10VzWArJygmjTS8f8gVxmRXvUlFYWCtIvGrs=</keystore>
        </signing-key>
      </signing-keys>
      <signature-verification-keys>
        <signature-verification-key>
          <id>default-signature-verification-key</id>
          <keystore>data:application/pem;aes,v:S.RjdUMXlpRUhxa0JUeVp3SQ==.jSnKn3ULL2y5Nt-SGjq7vg==.V6MIIJ3qjAdaMJXLRF2s7gPRa30KaixTZNdYOcUzFULHAIpRmyubeXqJJcYqmd-Y9EqLkM9hyGw-YK-FzkkTDZKPykQTfZftrCqdJ_dsDQEqDW-ajjT7VxdcBOzR3H4Cpxt8XYof8wkNljNeg_K2LWLoDPuUcEVs5pzaPYhycDx8nFpIk7wxr___iPBGc-aYmVwvIDiblmuo5oPDm3Zl5TmczktQh7sbD_aOtC78xqbueETvw6WCL2M2yQUfuJW23lzEXuD-RFpsAB0jTW-_i80LKJp4A8odywLv_Ph8UIBye1LnmfR2appevfZkHMHgZl0MI1sbeaCGYeCfc_uI5s1unYCrO2r2kgD1BqoSKNQLSGImNRg1oAMxTF5Y4x-rAO6CpJfah_wIS1304-_mgnc2GgPLiXpTroNurXAGF_QP4t917mfYDqK1YSFpXkkRAk8vtMcPwmD6fkK54JkOnl_0D8DEaYkRpmZ8KQ5SOhx5P1kbN0xstQAP9e5tJ9vX3kMI80OaSMdcgSRmjp58WC0LePF38beDJIfddSPIzhONUFZQlYlv5tMIIFq4PKp2-ZA0kxhq3ZJrarJnVeP9UPBmA96WXN-n3v79rU40DUdzIxemE9t0n0ti3WutyvUa54pOMSEuMF8Sq4m7iTdnd9gDAyv0hr0P0WGsonVGHLChmhrH63z_50hbQX9ZCSe7Mae9u0-yN7-gmJTuKATAnSEVj4x8OOMvFcFwCIU8YXzkm27gGLsz5I3uvMeDHeeSOZB_WBNF90vdvPYtSHFrqX4EGESpmwmJ97oENVwmzk4_wKE3ew1_fVXCYE4-ezSAqcikNAglTvJk1KXzJ3zY9WcIHtu9KLbK_7hrylYtZcrfJTMP6rFV2RTIiZe3Q5OOan5NueZH0LftfxIcQ-OkrCvMBT5UDEMYrnp0TmOiRhTuhbKEdIyX6FLozSo5GtxQBuzgJVfZ0eOPnACwPoOPSbjs34RO-cF3U6vO7s1gOlHMR9m7tFaeJr-Sa-MZjgQ1_bpWEoTHhXRCEDLn9JBkzFRlHX0TsuoEJDJcW9eeySdzffwBbJE89ay77SRXiE8GGt5FwW1XjE3CIogq_zaN4cXw2Lx7avvHi918ZXAyM-YOfsgW6RJGgdBvmzuHr34RrxWWZ5EIfoQ4A5KJt2XPuzJdQZa9kfpI9nphXjDvtlgngTpZ_Be46E_TzMx0VyWbE8NjQ9KxOGnuUO0_YHBBoW315jYQ_DT1aQOKubgboV3QtDQuJLS7OdDMkXPR-hMGOaAnbx1TE0ZxaCSCWGZcY1tFxp52bWnjj_VI4dlmYux7WSCpH2xwDJfVMP3pnZGJ5G8UB4PXzUcHN5e77bfWMsFF0Kndl-9g_VHryCefXwdpNQAPYwJE1HrJkrBotQQkrsDNiPuTmojuFAeyYPTnLag3dxDfF9d8hJIdkGvv_kAQYhcmKc6iJSYOZ6e7jIc9Tm-2Zhl6ggrtEujrkubtgrQyxMNqDgutcJCi5PIR7ynhkVfcaO2SXSVsX7dbjARRF5i9iG-qQw5NOmYDc5LEeweWqQ7smoR-u_kM_zearQ8gYIwJ69GZAUvTcdF9Tg9-OelzdVxsjZ-a-5wAMzCRLCjFI2xDFboXDV3pXaavxoCg2Wyu0wng3xUot8516Uml.S3Rb05chfu4Kq3Ud3vGWrSY9k8sZI9HtGqqWvjGMOpg=</keystore>
        </signature-verification-key>
      </signature-verification-keys>
    </crypto>
    <caching-services>
      <default-caching-service>
        <data-source>default-datasource</data-source>
      </default-caching-service>
    </caching-services>
  </facilities>
  <processing xmlns="https://curity.se/ns/conf/base">
    <procedures>
      <filter-procedure>
        <id>nonce-filter-proc</id>
        <script>LyoqCiAqIEEgZmlsdGVyIHByb2NlZHVyZSBvZiAiYXV0aGVudGljYXRvciIgdHlwZSBjYW4gYmUgdXNlZCB0byBmaWx0ZXIgb3V0IGF1dGhlbnRpY2F0b3JzLgogKgogKiBAcGFyYW0ge3NlLmN1cml0eS5pZGVudGl0eXNlcnZlci5wcm9jZWR1cmVzLmNvbnRleHQuQXV0aGVudGljYXRvckZpbHRlclByb2NlZHVyZUNvbnRleHR9IGNvbnRleHQKICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgdG8ga2VlcCB0aGUgY3VycmVudCBhdXRoZW50aWNhdG9yLCBmYWxzZSB0byByZW1vdmUgaXQuCiAqLwpmdW5jdGlvbiByZXN1bHQoY29udGV4dCkgewoKICBpZiAoY29udGV4dC5hdXRoZW50aWNhdG9yLmlkID09PSAnbm9uY2UxJykgewoKICAgIHZhciBhY3IgPSBjb250ZXh0LnJlcXVlc3QuZ2V0UXVlcnlQYXJhbWV0ZXIoImFjciIpOwogICAgaWYgKGFjciAhPT0gJ3VybjpzZTpjdXJpdHk6YXV0aGVudGljYXRpb246bm9uY2U6bm9uY2UxJykgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKICByZXR1cm4gdHJ1ZTsKfQ==</script>
      </filter-procedure>
    </procedures>
    <account-managers>
      <account-manager>
        <id>default-account-manager</id>
        <enable-registration>
          <account-verification-method>no-verification</account-verification-method>
        </enable-registration>
        <account-data-source>default-datasource</account-data-source>
      </account-manager>
    </account-managers>
    <credential-managers>
      <credential-manager>
        <id>default-credential-manager</id>
        <Sha2WithSha256>
        </Sha2WithSha256>
        <data-source-backed>
          <data-source-id>default-datasource</data-source-id>
        </data-source-backed>
      </credential-manager>
    </credential-managers>
  </processing>
  <nacm xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-acm">
    <write-default>permit</write-default>
    <groups>
      <group>
        <name>admin</name>
        <user-name>admin</user-name>
      </group>
    </groups>
    <rule-list>
      <name>admin</name>
      <group>admin</group>
      <rule>
        <name>any-access</name>
        <action>permit</action>
      </rule>
    </rule-list>
    <rule-list>
      <name>any-group</name>
      <group>*</group>
      <rule>
        <name>tailf-aaa-authentication</name>
        <module-name>tailf-aaa</module-name>
        <path>/aaa/authentication/users/user[name='$USER']</path>
        <access-operations>read update</access-operations>
        <action>permit</action>
      </rule>
      <rule>
        <name>tailf-aaa-user</name>
        <module-name>tailf-aaa</module-name>
        <path>/user[name='$USER']</path>
        <access-operations>create read update delete</access-operations>
        <action>permit</action>
      </rule>
      <rule>
        <name>tailf-webui-user</name>
        <module-name>tailf-webui</module-name>
        <path>/webui/data-stores/user-profile[username='$USER']</path>
        <access-operations>create read update delete</access-operations>
        <action>permit</action>
      </rule>
    </rule-list>
  </nacm>
  <aaa xmlns="http://tail-f.com/ns/aaa/1.1">
    <authentication>
      <users>
        <user>
          <name>admin</name>
          <uid>0</uid>
          <gid>0</gid>
          <password>$5$HNzKsfZx$sO9eZr92twADfEv1NzunIwXbHk7BAPeDGDrrezf/KXB</password>
          <ssh_keydir>/opt/idsvr/home/admin/.ssh</ssh_keydir>
          <homedir>/opt/idsvr/home/admin</homedir>
        </user>
      </users>
    </authentication>
    <ios>
      <level>
        <nr>0</nr>
        <prompt>\h> </prompt>
      </level>
      <level>
        <nr>15</nr>
        <prompt>\h# </prompt>
      </level>
      <privilege>
        <mode>exec</mode>
        <level>
          <nr>0</nr>
          <command>
            <name>action</name>
          </command>
          <command>
            <name>autowizard</name>
          </command>
          <command>
            <name>enable</name>
          </command>
          <command>
            <name>exit</name>
          </command>
          <command>
            <name>help</name>
          </command>
          <command>
            <name>startup</name>
          </command>
        </level>
        <level>
          <nr>15</nr>
          <command>
            <name>configure</name>
          </command>
        </level>
      </privilege>
    </ios>
  </aaa>
</config>